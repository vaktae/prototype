<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Hygiene Quiz | EcoLearn</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">
    <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/feather-icons/dist/feather.min.js"></script>
    <script src="https://unpkg.com/feather-icons"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800&display=swap');
        body {
            font-family: 'Inter', system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, sans-serif;
            background: linear-gradient(180deg, #071a1a 0%, #0b1320 100%);
            color: #e6f2ef;
        }
        .question-card {
            background: rgba(10, 28, 28, 0.7);
            border: 1px solid rgba(56, 189, 248, 0.25);
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
        }
        .option-btn {
            transition: all 0.3s ease;
            border: 1px solid #333333;
        }
        .option-btn:hover {
            transform: translateY(-2px);
            border-color: #22c55e;
        }
        .correct {
            background-color: #22c55e;
            border-color: #22c55e;
            color: white;
        }
        .incorrect {
            background-color: #ef4444;
            border-color: #ef4444;
            color: white;
        }
        .xp-badge {
            animation: xpPop 0.5s ease-out;
        }
        @keyframes xpPop {
            0% { transform: scale(0); opacity: 0; }
            50% { transform: scale(1.2); opacity: 1; }
            100% { transform: scale(1); opacity: 1; }
        }
    </style>
</head>
<body class="min-h-screen">
    
    <!-- Navigation -->
    <nav class="bg-black bg-opacity-80 backdrop-blur-md fixed w-full z-50 border-b border-gray-800">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex items-center justify-between h-16">
                <div class="flex items-center">
                    <div class="flex-shrink-0">
                        <a href="index.html" class="text-2xl font-extrabold text-transparent bg-clip-text bg-gradient-to-r from-amber-600 via-green-500 to-sky-400 tracking-wide">EcoLearn</a>
                    </div>
                    <div class="hidden md:block">
                        <div class="ml-10 flex items-baseline space-x-4">
                            <a href="index.html" class="text-gray-300 hover:text-white px-3 py-2 rounded-md text-sm font-medium">Home</a>
                            <a href="games.html" class="text-white px-3 py-2 rounded-md text-sm font-medium"><i data-feather="gamepad-2" class="w-4 h-4 mr-1 inline"></i> Games</a>
                            <a href="profile.html" class="text-gray-300 hover:text-white px-3 py-2 rounded-md text-sm font-medium"><i data-feather="user" class="w-4 h-4 mr-1 inline"></i> Profile</a>
                            <a href="leaderboard.html" class="text-gray-300 hover:text-white px-3 py-2 rounded-md text-sm font-medium">Leaderboard</a>
                        </div>
                    </div>
                </div>
                <div class="hidden md:block">
                    <div class="ml-4 flex items-center md:ml-6">
                        <div class="ml-3 relative">
                            <div class="flex items-center space-x-2">
                                <span class="text-sm font-medium">XP: <span id="xp-home">0</span></span>
                                <span class="text-sm font-medium text-yellow-400">Level: <span id="level-home">1</span></span>
                                <a href="profile.html"><img class="h-8 w-8 rounded-full" src="http://static.photos/people/200x200/1" alt="Profile"></a>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="-mr-2 flex md:hidden">
                    <button type="button" class="bg-gray-900 inline-flex items-center justify-center p-2 rounded-md text-gray-400 hover:text-white hover:bg-gray-800 focus:outline-none" aria-controls="mobile-menu" aria-expanded="false">
                        <i data-feather="menu"></i>
                    </button>
                </div>
            </div>
        </div>

        <!-- Mobile menu -->
        <div class="md:hidden hidden" id="mobile-menu">
            <div class="px-2 pt-2 pb-3 space-y-1 sm:px-3">
                <a href="index.html" class="text-gray-300 hover:text-white block px-3 py-2 rounded-md text-base font-medium">Home</a>
                <a href="games.html" class="text-white block px-3 py-2 rounded-md text-base font-medium">Games</a>
                <a href="profile.html" class="text-gray-300 hover:text-white block px-3 py-2 rounded-md text-base font-medium">Profile</a>
                <a href="leaderboard.html" class="text-gray-300 hover:text-white block px-3 py-2 rounded-md text-base font-medium">Leaderboard</a>
            </div>
            <div class="pt-4 pb-3 border-t border-gray-700">
                <div class="flex items-center px-5">
                    <div class="flex-shrink-0">
                        <img class="h-10 w-10 rounded-full" src="http://static.photos/people/200x200/1" alt="Profile">
                    </div>
                    <div class="ml-3">
                        <div class="text-base font-medium text-white">Guest</div>
                        <div class="text-sm font-medium text-gray-400">Level <span id="mobile-level">1</span></div>
                    </div>
                </div>
                <div class="mt-3 px-2 space-y-1">
                    <a href="#" class="block px-3 py-2 rounded-md text-base font-medium text-gray-400 hover:text-white hover:bg-gray-700">XP: <span id="mobile-xp">0</span></a>
                </div>
            </div>
        </div>
    </nav>

    <!-- Quiz Container -->
    <div class="pt-24 pb-12 px-4 sm:px-6 lg:px-8 max-w-4xl mx-auto">
        <!-- Progress Bar -->
        <div class="mb-8">
            <div class="flex justify-between items-center mb-2">
                <span class="text-sm font-medium text-gray-300">Question <span id="current-question">1</span> of 10</span>
                <span class="text-sm font-medium text-green-400"><span id="correct-count">0</span> correct</span>
            </div>
            <div class="w-full bg-gray-800 rounded-full h-2.5">
                <div id="quiz-progress" class="progress-bar h-2.5 rounded-full" style="width: 10%"></div>
            </div>
        </div>

        <!-- Question Card -->
        <div class="question-card rounded-xl p-6 mb-8" data-aos="fade-up">
            <h2 class="text-2xl font-bold mb-6" id="question-text">How often should you wash your hands with soap and water to maintain proper hygiene?</h2>
            
            <div class="space-y-4">
                <button class="option-btn w-full text-left p-4 rounded-lg bg-gray-900 hover:bg-gray-800" data-correct="true">
                    A. After using the bathroom, before eating, and when visibly dirty
                </button>
                <button class="option-btn w-full text-left p-4 rounded-lg bg-gray-900 hover:bg-gray-800" data-correct="false">
                    B. Only after using the bathroom
                </button>
                <button class="option-btn w-full text-left p-4 rounded-lg bg-gray-900 hover:bg-gray-800" data-correct="false">
                    C. Once a day is sufficient
                </button>
                <button class="option-btn w-full text-left p-4 rounded-lg bg-gray-900 hover:bg-gray-800" data-correct="false">
                    D. Only when you remember to do so
                </button>
            </div>
        </div>

        <!-- Feedback and Next Button -->
        <div class="flex flex-col items-center justify-center mb-12" id="feedback-section" style="display: none;">
            <div class="text-center mb-6">
                <div id="feedback-message" class="text-xl font-semibold mb-2"></div>
                <div id="xp-earned" class="xp-badge inline-block bg-green-600 text-white px-4 py-2 rounded-full text-sm font-bold mb-4">+10 XP</div>
                <p id="explanation" class="text-gray-300"></p>
            </div>
            <button id="next-btn" class="px-6 py-3 bg-green-600 text-white font-medium rounded-lg hover:bg-green-700 transition-colors">
                Next Question <i data-feather="arrow-right" class="ml-2"></i>
            </button>
        </div>

        <!-- Quiz Completion -->
        <div class="text-center py-12 hidden" id="quiz-complete">
                <div class="bg-gradient-to-br from-green-900/20 to-blue-900/20 p-8 rounded-xl max-w-md mx-auto border border-green-400/20">
                <i data-feather="award" class="w-16 h-16 text-yellow-400 mx-auto mb-4"></i>
                <h2 class="text-3xl font-bold mb-4">Quiz Complete!</h2>
                <p class="text-xl mb-2">You scored <span id="final-score" class="font-bold text-green-300">0</span> out of 10</p>
                <p class="text-lg mb-6">You earned <span id="total-xp" class="font-bold text-yellow-300">0</span> XP!</p>
                <div class="flex justify-center space-x-4">
                    <a href="quiz.html" class="px-6 py-3 bg-white text-blue-600 font-medium rounded-lg hover:bg-gray-100 transition-colors">
                        Try Again
                    </a>
                    <a href="leaderboard.html" class="px-6 py-3 bg-green-600 text-white font-medium rounded-lg hover:bg-green-700 transition-colors">
                        View Leaderboard
                    </a>
                </div>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <footer class="bg-black py-8 border-t border-gray-800">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center">
            <p class="text-gray-400 text-sm">
                &copy; 2025 EcoLearn For SIH
            </p>
        </div>
    </footer>

    <script>
        AOS.init();
        feather.replace();
        
        // Mobile menu toggle
        document.querySelector('[aria-controls="mobile-menu"]').addEventListener('click', function() {
            const menu = document.getElementById('mobile-menu');
            menu.classList.toggle('hidden');
        });

        // Load stored profile (name and avatar) into header
        (function loadStoredProfileHeader(){
            try {
                const storedName = localStorage.getItem('profileName');
                const storedAvatar = localStorage.getItem('profileAvatar');
                const storedXp = localStorage.getItem('xp');
                const storedLevel = localStorage.getItem('level');
                if (storedAvatar) {
                    document.querySelectorAll('nav img[alt="Profile"]').forEach(img => img.src = storedAvatar);
                }
                if (storedName) {
                    const mobileNameEl = document.querySelector('#mobile-menu .text-base.font-medium.text-white');
                    if (mobileNameEl) mobileNameEl.textContent = storedName;
                }
                // Also sync initial XP/Level display to localStorage
                const xpCounter = document.getElementById('xp-home');
                const levelCounter = document.getElementById('level-home');
                const mobileXp = document.getElementById('mobile-xp');
                const mobileLevel = document.getElementById('mobile-level');
                const xp = storedXp !== null ? parseInt(storedXp, 10) : 0;
                const level = storedLevel !== null ? parseInt(storedLevel, 10) : 1;
                if (xpCounter) xpCounter.textContent = isNaN(xp) ? 0 : xp;
                if (levelCounter) levelCounter.textContent = isNaN(level) ? 1 : level;
                if (mobileXp) mobileXp.textContent = isNaN(xp) ? 0 : xp;
                if (mobileLevel) mobileLevel.textContent = isNaN(level) ? 1 : level;
            } catch (e) { /* ignore */ }
        })();

        

        // Quiz logic
        const questions = [
            {
                question: "How often should you wash your hands with soap and water to maintain proper hygiene?",
                options: [
                    "Only after using the bathroom",
                    "After using the bathroom, before eating, and when visibly dirty",
                    "Once a day is sufficient",
                    "Only when you remember to do so"
                ],
                correct: 1,
                explanation: "Washing hands after using the bathroom, before eating, and when visibly dirty helps prevent the spread of germs and maintains good hygiene."
            },
            {
                question: "What is the recommended duration for washing your hands with soap?",
                options: [
                    "At least 20 seconds",
                    "5 seconds is enough",
                    "Until the soap is gone",
                    "There's no specific duration"
                ],
                correct: 0,
                explanation: "You should wash your hands with soap for at least 20 seconds to effectively remove germs."
            },
            {
                question: "When should you replace your toothbrush?",
                options: [
                    "Once a year",
                    "Only when the bristles fall out",
                    "Every 3-4 months",
                    "Never, just clean it well"
                ],
                correct: 2,
                explanation: "Dentists recommend replacing your toothbrush every 3-4 months or sooner if the bristles are frayed."
            },
            {
                question: "How often should you shower for good personal hygiene?",
                options: [
                    "Once a week",
                    "Only when you feel dirty",
                    "Twice a day every day",
                    "Daily or every other day depending on activity level",
                ],
                correct: 3,
                explanation: "Most people should shower daily or every other day, depending on their activity level and personal needs."
            },
            {
                question: "What is the proper way to cover your mouth when coughing or sneezing?",
                options: [
                    "Use your bare hands",
                    "Don't cover it at all",
                    "Use a tissue or your elbow",
                    "Cough into the air"
                ],
                correct: 2,
                explanation: "Using a tissue or your elbow helps prevent the spread of germs to your hands and the environment."
            },
            {
                question: "How often should you clean your phone for hygiene purposes?",
                options: [
                    "Once a month",
                    "Daily",
                    "Never",
                    "Only when it looks dirty"
                ],
                correct: 1,
                explanation: "Phones harbor many germs and should be cleaned daily with appropriate disinfectant wipes."
            },
            {
                question: "What is the most hygienic way to dry your hands after washing?",
                options: [
                    "Wipe on your clothes",
                    "Use a clean towel or air dryer",
                    "Shake them dry",
                    "Don't dry them at all"
                ],
                correct: 1,
                explanation: "Using a clean towel or air dryer is the most hygienic way to dry your hands after washing."
            },
            {
                question: "How often should you change your bed sheets for good hygiene?",
                options: [
                    "Every 1-2 weeks",
                    "Once a month",
                    "Every 6 months",
                    "Only when they look dirty"
                ],
                correct: 0,
                explanation: "Changing bed sheets every 1-2 weeks helps prevent the buildup of sweat, oils, and dead skin cells."
            },
            {
                question: "What is the recommended frequency for dental check-ups?",
                options: [
                    "Every 6 months",
                    "Once every 5 years",
                    "Only when you have tooth pain",
                    "Never if you brush regularly"
                ],
                correct: 0,
                explanation: "Dentists recommend check-ups every 6 months for optimal oral hygiene and early detection of problems."
            },
            {
                question: "How often should you clean your kitchen sponge?",
                options: [
                    "Once a month",
                    "Never, just rinse it",
                    "Only when it smells bad",
                    "Daily and replace weekly",
                ],
                correct: 3,
                explanation: "Kitchen sponges should be cleaned daily (microwave or dishwasher) and replaced weekly as they harbor bacteria."
            }
        ];

        let currentQuestion = 0;
        let score = 0;
        let xp = 0;
        let answered = false;

        // DOM elements
        const questionText = document.getElementById('question-text');
        const optionButtons = document.querySelectorAll('.option-btn');
        const feedbackSection = document.getElementById('feedback-section');
        const feedbackMessage = document.getElementById('feedback-message');
        const explanation = document.getElementById('explanation');
        const nextButton = document.getElementById('next-btn');
        const quizComplete = document.getElementById('quiz-complete');
        const finalScore = document.getElementById('final-score');
        const totalXp = document.getElementById('total-xp');
        const currentQuestionDisplay = document.getElementById('current-question');
        const correctCountDisplay = document.getElementById('correct-count');
        const quizProgress = document.getElementById('quiz-progress');
        const xpCounter = document.getElementById('xp-home');
        const levelCounter = document.getElementById('level-home');
        const mobileXp = document.getElementById('mobile-xp');
        const mobileLevel = document.getElementById('mobile-level');

        // Load question
        function loadQuestion() {
            answered = false;
            const q = questions[currentQuestion];
            questionText.textContent = q.question;
            
            optionButtons.forEach((btn, index) => {
                btn.textContent = `${String.fromCharCode(65 + index)}. ${q.options[index]}`;
                btn.dataset.correct = index === q.correct ? 'true' : 'false';
                btn.classList.remove('correct', 'incorrect');
                btn.disabled = false;
            });
            
            feedbackSection.style.display = 'none';
            currentQuestionDisplay.textContent = currentQuestion + 1;
            quizProgress.style.width = `${((currentQuestion) / questions.length) * 100}%`;
        }

        // Check answer
        optionButtons.forEach(btn => {
            btn.addEventListener('click', function() {
                if (answered) return;
                answered = true;
                
                const isCorrect = this.dataset.correct === 'true';
                const q = questions[currentQuestion];
                
                if (isCorrect) {
                    this.classList.add('correct');
                    score++;
                    xp += 10;
                    feedbackMessage.textContent = 'Correct!';
                    feedbackMessage.className = 'text-xl font-semibold mb-2 text-green-400';
                    document.getElementById('xp-earned').textContent = `+10 XP`;
                } else {
                    this.classList.add('incorrect');
                    // Highlight correct answer
                    optionButtons[q.correct].classList.add('correct');
                    feedbackMessage.textContent = 'Incorrect!';
                    feedbackMessage.className = 'text-xl font-semibold mb-2 text-red-400';
                    document.getElementById('xp-earned').textContent = `+0 XP`;
                }
                
                explanation.textContent = q.explanation;
                feedbackSection.style.display = 'flex';
                correctCountDisplay.textContent = score;
                
                // Disable all options
                optionButtons.forEach(b => b.disabled = true);
                
                // Update XP and level
                updateXp();
            });
        });

        // Next question
        nextButton.addEventListener('click', function() {
            currentQuestion++;
            if (currentQuestion < questions.length) {
                loadQuestion();
            } else {
                // Quiz complete
                document.querySelector('.question-card').style.display = 'none';
                feedbackSection.style.display = 'none';
                quizComplete.classList.remove('hidden');
                finalScore.textContent = score;
                totalXp.textContent = xp;
                quizProgress.style.width = '100%';
            }
        });

        // Update XP and level
        function updateXp() {
            xpCounter.textContent = xp;
            mobileXp.textContent = xp;
            
            const level = Math.floor(xp / 100) + 1;
            levelCounter.textContent = level;
            mobileLevel.textContent = level;
        }

        // Initialize
        loadQuestion();
    </script>
</body>
</html>